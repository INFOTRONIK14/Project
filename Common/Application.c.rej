diff a/Common/Application.c b/Common/Application.c	(rejected hunks)
@@ -9,17 +9,60 @@
 
 #include "Platform.h"
 #include "Application.h"
-/*#include "WAIT1.h"
- */
+#include "WAIT1.h"
 #if PL_HAS_LED
   #include "LED.h"
 #endif
+#if PL_HAS_EVENTS
+  #include "Event.h"
+#endif
+#if PL_HAS_MEALY
+  #include "Mealy.h"
+#endif
+#include "Test.h"
+
+static void APP_EventHandler(EVNT_Handle event) {
+  switch(event) {
+    case EVNT_INIT:
+      LED1_On();
+      WAIT1_Waitms(50);
+      LED1_Off();
+      LED2_On();
+      WAIT1_Waitms(50);
+      LED2_Off();
+      LED3_On();
+      WAIT1_Waitms(50);
+      LED3_Off();
+      break;
+    case EVENT_LED_HEARTBEAT:
+      LED2_Neg();
+      break;
+    default:
+      break;
+  }
+}
+
+static void APP_Loop(void) {
+  for(;;) {
+#if PL_HAS_EVENTS
+    EVNT_HandleEvent(APP_EventHandler);
+#endif
+    WAIT1_Waitms(100);
+  }
+}
 
 void APP_Start(void) {
   PL_Init(); /* platform initialization */
+  //TEST_Test();
+  EVNT_SetEvent(EVNT_INIT); /* set initial event */
+  APP_Loop();
+#if 0
   for(;;) {
+#if PL_HAS_MEALY
+    MEALY_Step();
+#else
     LED1_On();
-    /**WAIT1_Waitms(300);
+    WAIT1_Waitms(300);
     LED1_Off();
     LED2_On();
     WAIT1_Waitms(300);
